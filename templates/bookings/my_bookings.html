{% extends "base.html" %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="{% static 'css/bookings.css' %}">

<div class="bookings-page">

    <h1 class="page-title">Мои занятия</h1>

    <!-- Ближайшие -->
    <div class="section">
        <h2>Ближайшие занятия</h2>

        {% if upcoming %}
            <div class="booking-list">
            {% for b in upcoming %}
                <div class="booking-card">

                    <h3>{{ b.schedule.get_class_name_display }}</h3>

                    <p>{{ b.schedule.date }} | {{ b.schedule.time }}</p>

                    <p class="trainer">
                        Тренер: {{ b.schedule.trainer.name }}
                    </p>

                    <a href="{% url 'cancel_booking' b.id %}" class="cancel-btn">
                        Отменить занятие
                    </a>

                </div>
            {% endfor %}
            </div>
        {% else %}
            <p class="empty">Нет ближайших записей</p>
        {% endif %}
    </div>

    <!-- Прошедшие -->
    <div class="section">
        <h2>Прошедшие занятия</h2>

        {% if past %}
            <div class="booking-list">
            {% for b in past %}
                <div class="booking-card past">
                    <h3>{{ b.schedule.get_class_name_display }}</h3>
                    <p>{{ b.schedule.date }} | {{ b.schedule.time }}</p>
                    <p>Тренер: {{ b.schedule.trainer.name }}</p>
                </div>
            {% endfor %}
            </div>
        {% else %}
            <p class="empty">История пуста</p>
        {% endif %}
    </div>

</div>

{% endblock %}
